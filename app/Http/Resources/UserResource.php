<?php namespace App\Http\Resources; use Illuminate\Http\Request; use Illuminate\Http\Resources\Json\JsonResource; class UserResource extends JsonResource { public function toArray(Request $request): array { return [ 'id' => $this->id, 'first_name' => $this->first_name, 'last_name' => $this->last_name, 'email' => $this->email, 'identification_number' => $this->identification_number, 'sex' => $this->sex, 'role' => $this->role, 'is_active' => $this->is_active, 'institution' => new InstitutionResource($this->whenLoaded('institution')), 'punto_gob' => new PuntoGOBResource($this->whenLoaded('puntoGob')), 'created_at' => $this->created_at->toDateTimeString(), 'updated_at' => $this->updated_at->toDateTimeString(), ]; } }